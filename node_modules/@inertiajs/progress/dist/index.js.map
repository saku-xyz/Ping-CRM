{"version":3,"file":"index.js","sources":["../src/progress.js"],"sourcesContent":["import Nprogress from 'nprogress'\n\nexport default {\n  delay: null,\n  timeout: null,\n  inProgress: 0,\n\n  init({ delay = 250, color = '#29d', includeCSS = true, showSpinner = false } = {}) {\n    this.delay = delay\n\n    this.configureNProgress({ showSpinner })\n    this.registerEvents()\n\n    if (includeCSS) {\n      this.injectCSS(color)\n    }\n  },\n\n  configureNProgress(config) {\n    Nprogress.configure(config)\n  },\n\n  registerEvents() {\n    document.addEventListener('inertia:start', this.start.bind(this))\n    document.addEventListener('inertia:progress', this.progress.bind(this))\n    document.addEventListener('inertia:finish', this.finish.bind(this))\n  },\n\n  injectCSS(color) {\n    const element = document.createElement('style')\n    element.type = 'text/css'\n    element.textContent = `\n      #nprogress {\n        pointer-events: none;\n      }\n\n      #nprogress .bar {\n        background: ${color};\n\n        position: fixed;\n        z-index: 1031;\n        top: 0;\n        left: 0;\n\n        width: 100%;\n        height: 2px;\n      }\n\n      #nprogress .peg {\n        display: block;\n        position: absolute;\n        right: 0px;\n        width: 100px;\n        height: 100%;\n        box-shadow: 0 0 10px ${color}, 0 0 5px ${color};\n        opacity: 1.0;\n\n        -webkit-transform: rotate(3deg) translate(0px, -4px);\n            -ms-transform: rotate(3deg) translate(0px, -4px);\n                transform: rotate(3deg) translate(0px, -4px);\n      }\n\n      #nprogress .spinner {\n        display: block;\n        position: fixed;\n        z-index: 1031;\n        top: 15px;\n        right: 15px;\n      }\n\n      #nprogress .spinner-icon {\n        width: 18px;\n        height: 18px;\n        box-sizing: border-box;\n\n        border: solid 2px transparent;\n        border-top-color: ${color};\n        border-left-color: ${color};\n        border-radius: 50%;\n\n        -webkit-animation: nprogress-spinner 400ms linear infinite;\n                animation: nprogress-spinner 400ms linear infinite;\n      }\n\n      .nprogress-custom-parent {\n        overflow: hidden;\n        position: relative;\n      }\n\n      .nprogress-custom-parent #nprogress .spinner,\n      .nprogress-custom-parent #nprogress .bar {\n        position: absolute;\n      }\n\n      @-webkit-keyframes nprogress-spinner {\n        0%   { -webkit-transform: rotate(0deg); }\n        100% { -webkit-transform: rotate(360deg); }\n      }\n      @keyframes nprogress-spinner {\n        0%   { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n    `\n    document.head.appendChild(element)\n  },\n\n  start(event) {\n    Promise.resolve().then(() => {\n      if (event.defaultPrevented) {\n        return\n      }\n\n      this.inProgress++\n      clearTimeout(this.timeout)\n      this.timeout = setTimeout(() => {\n        Nprogress.set(0)\n        Nprogress.start()\n      }, this.delay)\n    })\n  },\n\n  progress(event) {\n    if (Nprogress.isStarted() && event.detail.progress.percentage) {\n      Nprogress.set(event.detail.progress.percentage / 100 * .9)\n    }\n  },\n\n  finish() {\n    this.inProgress--\n    if (this.inProgress === 0) {\n      Nprogress.done()\n      clearTimeout(this.timeout)\n    }\n  },\n}\n"],"names":["delay","timeout","inProgress","init","color","includeCSS","showSpinner","this","configureNProgress","registerEvents","injectCSS","config","Nprogress","configure","document","addEventListener","start","bind","progress","finish","element","createElement","type","textContent","head","appendChild","event","Promise","resolve","then","defaultPrevented","_this","clearTimeout","setTimeout","set","isStarted","detail","percentage","done"],"mappings":"wGAEe,CACbA,MAAO,KACPC,QAAS,KACTC,WAAY,EAEZC,kCAA+E,SAAxEH,UAAaI,MAAAA,aAAQ,aAAQC,WAAAA,oBAAmBC,YAAAA,gBACrDC,KAAKP,iBADQ,MAGbO,KAAKC,mBAAmB,CAAEF,YAAAA,IAC1BC,KAAKE,iBAEDJ,GACFE,KAAKG,UAAUN,IAInBI,4BAAmBG,GACjBC,EAAUC,UAAUF,IAGtBF,0BACEK,SAASC,iBAAiB,gBAAiBR,KAAKS,MAAMC,KAAKV,OAC3DO,SAASC,iBAAiB,mBAAoBR,KAAKW,SAASD,KAAKV,OACjEO,SAASC,iBAAiB,iBAAkBR,KAAKY,OAAOF,KAAKV,QAG/DG,mBAAUN,GACR,IAAMgB,EAAUN,SAASO,cAAc,SACvCD,EAAQE,KAAO,WACfF,EAAQG,4HAMUnB,uUAiBSA,eAAkBA,0jBAsBrBA,mCACCA,0tBA0BzBU,SAASU,KAAKC,YAAYL,IAG5BJ,eAAMU,cACJC,QAAQC,UAAUC,KAAK,WACjBH,EAAMI,mBAIVC,EAAK7B,aACL8B,aAAaD,EAAK9B,SAClB8B,EAAK9B,QAAUgC,WAAW,WACxBrB,EAAUsB,IAAI,GACdtB,EAAUI,SACTe,EAAK/B,WAIZkB,kBAASQ,GACHd,EAAUuB,aAAeT,EAAMU,OAAOlB,SAASmB,YACjDzB,EAAUsB,IAAIR,EAAMU,OAAOlB,SAASmB,WAAa,IAAM,KAI3DlB,kBACEZ,KAAKL,aACmB,IAApBK,KAAKL,aACPU,EAAU0B,OACVN,aAAazB,KAAKN"}